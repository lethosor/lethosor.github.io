---
layout: base
---
<style type="text/css">
    div#main {
        background: white;
        border: 1px solid #ddd;
        padding: 1em;
        margin: auto;
        position: absolute;
        top: 30%;
        left: 30%;
        width: 40%;
    }
    body {
        background: #eee;
    }
</style>
<div id="main">
    <div class="alert" id="beta">x: <span>?</span></div>
    <div class="alert" id="gamma">y: <span>?</span></div>
    <div class="alert" id="alpha">z: <span>?</span></div>
</div>
<script>
    $(window).on('deviceorientation', function(e) {
        e = e.originalEvent;
        $.each(['alpha', 'beta', 'gamma'], function(_, id) {
            var well = $('#' + id);
            if (e[id] !== undefined && e[id] !== null)
                well.removeClass('alert-danger').addClass('alert-success').find('span').text(e[id]);
            else
                well.removeClass('alert-success').addClass('alert-danger');
        });
        var rot = 0;
        if (Math.abs(e.gamma || 0) > 2)
            rot = -Math.round(e.gamma);
        $('div#main').css('transform', 'rotate(' + rot + 'deg)');
    });
</script>
